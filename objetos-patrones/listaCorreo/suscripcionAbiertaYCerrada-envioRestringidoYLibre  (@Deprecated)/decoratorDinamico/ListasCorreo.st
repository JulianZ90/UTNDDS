Object subclass: #ListaRestringida	instanceVariableNames: 'listaDecorada'	classVariableNames: ''	poolDictionaries: ''	category: 'ListasCorreo'!!ListaRestringida methodsFor: 'delegados' stamp: 'leo 4/22/2013 11:07'!agregarMiembro: unMiembro	self listaDecorada agregarMiembro: unMiembro! !!ListaRestringida methodsFor: 'delegados' stamp: 'leo 4/22/2013 11:15'!aprobar: unMiembro	self listaDecorada aprobar: unMiembro! !!ListaRestringida methodsFor: 'delegados' stamp: 'leo 4/22/2013 11:11'!miembros	^ self listaDecorada miembros! !!ListaRestringida methodsFor: 'delegados' stamp: 'leo 4/22/2013 11:11'!miembros: unosMiembros	self listaDecorada miembros: unosMiembros! !!ListaRestringida methodsFor: 'delegados' stamp: 'leo 4/22/2013 11:14'!miembrosPendientes	^ self listaDecorada miembrosPendientes! !!ListaRestringida methodsFor: 'delegados' stamp: 'leo 4/22/2013 11:14'!miembrosPendientes: unosMiembros	^ self listaDecorada miembrosPendientes: unosMiembros! !!ListaRestringida methodsFor: 'delegados' stamp: 'leo 4/22/2013 11:16'!rechazar: unMiembro	self listaDecorada rechazar: unMiembro! !!ListaRestringida methodsFor: 'delegados' stamp: 'leo 4/22/2013 11:09'!remitentePertenceALaLista: unPost	^ self listaDecorada remitentePertenceALaLista: unPost! !!ListaRestringida methodsFor: 'delegados' stamp: 'leo 4/22/2013 11:11'!suscribir: unMiembro	self listaDecorada suscribir: unMiembro! !!ListaRestringida methodsFor: 'cambioModoEnvio' stamp: 'leo 4/22/2013 11:33'!asLibre	self listaDecorada become: self! !!ListaRestringida methodsFor: 'cambioModoEnvio' stamp: 'leo 4/22/2013 11:33'!asRestringida	! !!ListaRestringida methodsFor: 'accessing' stamp: 'leo 4/22/2013 11:05'!listaDecorada	^ listaDecorada! !!ListaRestringida methodsFor: 'accessing' stamp: 'leo 4/22/2013 11:05'!listaDecorada: anObject	listaDecorada := anObject! !!ListaRestringida methodsFor: 'decorados' stamp: 'leo 4/22/2013 11:20'!enviar: unPost	self miembros detect: [ :unMiembro | unMiembro esRemitente: unPost ].	self listaDecorada enviar: unPost! !Object subclass: #ListaCorreo	instanceVariableNames: 'miembros'	classVariableNames: ''	poolDictionaries: ''	category: 'ListasCorreo'!!ListaCorreo methodsFor: 'uso' stamp: 'leo 4/20/2013 12:03'!agregarMiembro:unMiembro self miembros add:unMiembro! !!ListaCorreo methodsFor: 'uso' stamp: 'leo 4/22/2013 10:54'!enviar:unPost|receptores|receptores := self miembros select:[:unMiembro | (unMiembro esRemitente: unPost) not]. receptores do:[:unMiembro | unMiembro enviar:unPost].! !!ListaCorreo methodsFor: 'uso' stamp: 'leo 4/22/2013 10:49'!remitentePertenceALaLista:unPost ^self miembros anySatisfy: [:unMiembro | unMiembro esRemitente: unPost ]! !!ListaCorreo methodsFor: 'uso' stamp: 'leo 4/22/2013 10:38'!suscribir:unMiembroself agregarMiembro: unMiembro ! !!ListaCorreo methodsFor: 'cambioModoEnvio' stamp: 'leo 4/22/2013 11:33'!asLibre	! !!ListaCorreo methodsFor: 'cambioModoEnvio' stamp: 'leo 4/22/2013 11:35'!asRestringida	| nuevaLista viejaLista |	nuevaLista := ListaRestringida new.	viejaLista := self.	viejaLista become: nuevaLista.	viejaLista listaDecorada: nuevaLista	"me quedaron los nombres cruzados"! !!ListaCorreo methodsFor: 'accessing' stamp: 'leo 4/20/2013 12:01'!initialize super initialize .self miembros: Set new.! !!ListaCorreo methodsFor: 'accessing' stamp: 'leo 4/20/2013 11:57'!miembros	^ miembros! !!ListaCorreo methodsFor: 'accessing' stamp: 'leo 4/20/2013 11:57'!miembros: anObject	miembros := anObject! !Object subclass: #Miembro	instanceVariableNames: 'mailDefault otrosMails'	classVariableNames: ''	poolDictionaries: ''	category: 'ListasCorreo'!!Miembro methodsFor: 'accessing' stamp: 'leo 4/20/2013 12:00'!initialize super initialize .self otrosMails: Set new.! !!Miembro methodsFor: 'accessing' stamp: 'leo 4/20/2013 11:59'!mailDefault	^ mailDefault! !!Miembro methodsFor: 'accessing' stamp: 'leo 4/20/2013 11:59'!mailDefault: anObject	mailDefault := anObject! !!Miembro methodsFor: 'accessing' stamp: 'leo 4/20/2013 11:59'!otrosMails	^ otrosMails! !!Miembro methodsFor: 'accessing' stamp: 'leo 4/20/2013 11:59'!otrosMails: anObject	otrosMails := anObject! !!Miembro methodsFor: 'uso' stamp: 'leo 4/22/2013 10:58'!enviar: unPost	EmailSenderProvider emailSender		send:			(Email				from: unPost from				to: self mailDefault				subject: unPost subject				content: unPost content)! !!Miembro methodsFor: 'uso' stamp: 'leo 4/20/2013 12:25'!esRemitente:unPost ^unPost from = self mailDefault | (self otrosMails includes: (unPost from ))! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Miembro class	instanceVariableNames: ''!!Miembro class methodsFor: 'as yet unclassified' stamp: 'leo 4/20/2013 12:04'!mail:unMail|nuevo|nuevo := Miembro new.nuevo mailDefault: unMail.^nuevo! !!Miembro class methodsFor: 'as yet unclassified' stamp: 'leo 4/20/2013 12:05'!mail:unMail otrosMails:otros|nuevo|nuevo := self mail:unMail.nuevo otrosMails addAll: otros.^nuevo! !Object subclass: #Post	instanceVariableNames: 'from subject content'	classVariableNames: ''	poolDictionaries: ''	category: 'ListasCorreo'!!Post methodsFor: 'accessing' stamp: 'leo 4/20/2013 12:15'!content	^ content! !!Post methodsFor: 'accessing' stamp: 'leo 4/20/2013 12:15'!content: anObject	content := anObject! !!Post methodsFor: 'accessing' stamp: 'leo 4/20/2013 12:15'!from	^ from! !!Post methodsFor: 'accessing' stamp: 'leo 4/20/2013 12:15'!from: anObject	from := anObject! !!Post methodsFor: 'accessing' stamp: 'leo 4/20/2013 12:15'!subject	^ subject! !!Post methodsFor: 'accessing' stamp: 'leo 4/20/2013 12:15'!subject: anObject	subject := anObject! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Post class	instanceVariableNames: ''!!Post class methodsFor: 'as yet unclassified' stamp: 'leo 4/22/2013 12:26'!from: unFrom subject: unSubject content: unContent	| nuevoPost |	nuevoPost := Post new.	nuevoPost from: unFrom.	nuevoPost subject: unSubject.	nuevoPost content: unContent.	^ nuevoPost! !Object subclass: #EmailSenderProvider	instanceVariableNames: ''	classVariableNames: 'emailSender'	poolDictionaries: ''	category: 'ListasCorreo'!"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!EmailSenderProvider class	instanceVariableNames: ''!!EmailSenderProvider class methodsFor: 'accessing' stamp: 'leo 4/22/2013 10:46'!emailSender	^ emailSender! !!EmailSenderProvider class methodsFor: 'accessing' stamp: 'leo 4/22/2013 10:46'!emailSender: anObject	emailSender := anObject! !ListaCorreo subclass: #ListaCerrada	instanceVariableNames: 'miembrosPendientes'	classVariableNames: ''	poolDictionaries: ''	category: 'ListasCorreo'!!ListaCerrada methodsFor: 'uso' stamp: 'leo 4/22/2013 12:20'!aprobar: unMiembro self miembrosPendientes remove: unMiembro.self agregarMiembro: unMiembro ! !!ListaCerrada methodsFor: 'uso' stamp: 'leo 4/22/2013 10:42'!rechazar: unMiembro self miembrosPendientes remove: unMiembro ! !!ListaCerrada methodsFor: 'uso' stamp: 'leo 4/22/2013 10:39'!suscribir: unMiembro self miembrosPendientes add: unMiembro ! !!ListaCerrada methodsFor: 'accessing' stamp: 'leo 4/20/2013 12:01'!initialize super initialize .self miembrosPendientes: Set new.! !!ListaCerrada methodsFor: 'accessing' stamp: 'leo 4/20/2013 11:59'!miembrosPendientes	^ miembrosPendientes! !!ListaCerrada methodsFor: 'accessing' stamp: 'leo 4/20/2013 11:59'!miembrosPendientes: anObject	miembrosPendientes := anObject! !